(this.webpackJsonpscheduler=this.webpackJsonpscheduler||[]).push([[0],{126:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAQAAABpN6lAAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkAgUGDw8ftS2KAAACkklEQVR42u2dPWsUURhGH7+IK4LxIyiiWKXTSiGFWNnYWlikF2v/iB9FfkVQhPQ2BvEHqGlSLojLbkKaYGPYVBbqO8zdyztzlHnOdMOdu+eeZXdndpNdKZuRNjTTvINtpg2N0n3Ted3J4n9tr+jltTPuNMA4W/dkeoBLneZNnz0/wH+GA9ACNA5AC9AMPsDpXm7lmz5WHHVf1/uNkcNhcPqyVTXTVjDTYbbu4B8CDkAL0Aw+QNmrwCk90KpOVM/4SPsVbufD2Z8VHTvXrrZ1lBNppO1OL3G72j7obMl9285zPc0p2TO3dKBPbYNKngPu0iup5l77kJIAZ+h1VFNgPvhXAQegBWgcgBagKQmQdD4FUGBeEuArvY5qPudMs6wd/LS2ZtvRhfbFlV3gnNNj3QDvyRrGeqcftIQx/zxlzwG/s6vLtHYDe1pd9JCazwWWdZFeaQMVZyw+E6QFaByAFqBxAFqAxgFoARoHoAVoHIAWoBl8gMy/Evui78Heh8El9yR8u/KOrv61b673wchrut1XoIhpw5uQ6+Hoo2DkZjhyMxgZX+CuNxhMF1/M4B8CDkAL0DgALUDjALQAjQPQAjQOQAvQOAAtQOMAtACNA9ACNA5AC9A4AC1A4wC0AI0D0AI0DkAL0DgALUDjALQAjQPQAjQOQAvQOAAtQOMAtACNA9ACNA5AC9A4AC1A4wC0AI0D0AI0DkAL0DgALUDjALQAjQPQAjQOQAvQDD5A5n+Pr+lnsDf6urabehLujY6ORq7lSdd8m9xUV/IEUplpZdFDBv8QcABagMYBaAEaB6AFaByAFqBxAFqAxgFoAZqaADU/nNYPe/0EeEuvs5E3/dzMkl5qgv+Axp/bRC+0tPhijgFmD/LwO3VKLgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wMi0wNVQwNjoxNToxNSswMDowMBuhWXUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDItMDVUMDY6MTU6MTUrMDA6MDBq/OHJAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},127:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkAg0HFhzEfYeUAAADIklEQVRo3sWZz08TQRTHP10b0YB08WTrAaIehZDij5r4R5gY4hXwRA2RcCESTDgZFENo1DvxR2IRf9yBCxzsQQsBLxIUPAhcqNuCJ5T1sGwKMvtjtrvd9y7tTmc+332zfTvzJoKsJUjSRisJYqjEgCIaRX6yQJ4869IjurbLPGYN3cFXGeGS3+gYg3xzRB/0FQaJ+QOvo5+CFNz0EsOolcEjpD3CTS+QJuIV38R0RXDT57jgBX+bki94YzK6ZEM/5Bvc9AyKW3wNr3zH6+hMctIdfiYQvI7ONDXOwX8RGF5HJ+s0ESOB4nV0hu2f/KDxOjqdh0NetiYWOeXyQf3NGF/4u//tGBfppdZl321aWBPNvvuHb5fUkf4pdl33nxFlx7REEOeEdzYrMUL6/871bEl0nxAKyEqM8Mt8TZl/il5Ou5xBf0yl56CAGL1VxQP0GTEwBPTQUHUBKnfKAjqqjgfoImIIuML5UAScI2kIuBUKHoOsADdDE9AOCmdpDE1AE3GFZGh4gGTUVsAfPrIpuJ4T/jonXP/GSRG1FgAfLNPltuCV48VS7Fgy3imcseyYsbhTWcuRsWyLKzZ7lyVf8ACLli2qYpOE93wTYD2Sqvi1hfRoDQp6qAL2FIqhCtAUNMtG11spR7MeqWgnoNk3AS3WEYD3lklipwqJ6G2UeW5YdKxljhwbgpYco4KrfULBCa7apOKFKHkb7VGuS91pu3R0Piu2AoK3vMK6aJtUJVtlUwEmQxMwYfxDs6EJyBoCPrESCn6ZeTNHjYciYBxMAU8oVB1f4GlZQMlmzRKUjbJdFgBjVY6BxjPjgymgxH2J7nHh1YTECANHX4KVlmiuSZRopssLeO9FqgxLB4pUzdx1XaQq0cIPcVNXQIW5w95hp+5h4PgH9uGJ8DxQ/GvnhV6NT8cUIp9yLlYDHOdlIPg3nHD5mIZ9YGFYp49HNkVvZbBGpnzBz3o7tDKmoluqhHvUt+j2fmxnWB39HkVsMVTpwaVp9QywLAX/yj3Xad21tfGIVUf0dx7KFL7k5ydOkiStJFBRUQENDY31/eP7Dbnh/gG979F//hqDMwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wMi0xM1QwNzoyMjoyOCswMDowMIZmOQwAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDItMTNUMDc6MjI6MjgrMDA6MDD3O4GwAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},207:function(e,t){e.exports="data:image/png;base64,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"},210:function(e,t,n){e.exports=n(477)},215:function(e,t,n){},312:function(e,t,n){},461:function(e,t,n){},474:function(e,t,n){},477:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(3),o=n.n(s),i=(n(215),n(80)),l=n(8),c=n(20),u=n(14),d=n(22),A=n(21),m=n(5),p=n(23),h=n(11),v=n.n(h),f=n(124),E=n.n(f),g=n(128),b=n(9),O=n.n(b),x=n(200),y=n.n(x);n(310),n(311);function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage.getItem("schedule_resources"),t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(t&&(e=JSON.parse(e)),!e)return[]}catch(n){return[]}return!e instanceof Array?[]:e}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage.getItem("schedule_events"),t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{t&&(e=JSON.parse(e)),e.map((function(e){return e.start=new Date(e.start),e.end=new Date(e.end),e}))}catch(n){return[]}return!e instanceof Array?[]:e}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage.getItem("schedule_shifts"),t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(console.log("loading shifts"),!e)return[];try{t&&(e=JSON.parse(e))}catch(n){return[]}return!e instanceof Array?[]:e}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage.getItem("schedule_metaData"),t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{t&&(e=JSON.parse(e)),e.archive.resources||(e.archive.resources=[]),e.archive.shifts||(e.archive.shifts=[])}catch(n){return{archive:{resources:[],shifts:[]}}}return e}function D(e,t){window.localStorage.setItem("schedule_".concat(t),JSON.stringify(e))}function j(){var e={metaData:S(),shifts:N(),events:C(),resources:M(),created:new Date};return new Blob([JSON.stringify(e)],{type:"json"})}var B=n(209);function w(e){var t=e.event,n=e.start,a=e.end,r=e.isAllDay,s=this.state.events,o=s.findIndex((function(e){return e.id===t.id})),l=t.allDay;!t.allDay&&r?l=!0:t.allDay&&!r&&(l=!1);var c=Object(i.a)({},t,{start:n,end:a,allDay:l}),u=Object(B.a)(s);u.splice(o,1,c),this.setState({events:u}),D(this.state.events,"events")}function I(e){var t=this;if(this.state.selected.resource&&this.state.selected.shift){var n=0;this.state.events.forEach((function(e){e.id>n&&(n=e.id)})),n+=1;var a=[];e.slots.forEach((function(e){var r=t.state.selected.shift,s=e;s.setHours(r.startHour,r.startMinute,0);var o={start:s,end:O()(s).add(r.minuteLength,"m").toDate(),allDay:!1,id:n,resourceId:t.state.selected.resource.id,shiftId:t.state.selected.shift.id};a.push(o),n++})),this.setState((function(e,t){return D(e.events.concat(a),"events"),{events:e.events.concat(a)}}))}}function k(e){var t=0;this.state.events.forEach((function(e){e.id>t&&(t=e.id)})),e.id=t+1,this.setState((function(t,n){return D(t.events.concat(e),"events"),{events:t.events.concat(e)}}))}function T(e,t){this.setState((function(t,n){var a=t.events.filter((function(t){return t.id!==e.id}));return D(a,"events"),{events:a}}))}function R(e){var t=e.event;if(void 0!==t.customTitle||void 0===t.shiftId||void 0===t.resourceId)return r.a.createElement("div",null,t.customTitle);var n=this.state.resources.find((function(e){return e.id===t.resourceId}));void 0===n&&(n=this.state.meta.archive.resources.find((function(e){return e.id===t.resourceId})));var a=this.state.shifts.find((function(e){return e.id===t.shiftId}));return r.a.createElement("div",null,n.title+", "+a.title)}function Q(e,t,n,a){if(void 0!==e.customTitle)return{style:{background:e.color,cursor:"grab"},className:"eventPanel"};var r=this.state.resources.find((function(t){return t.id===e.resourceId}));return void 0===r&&(r=this.state.meta.archive.resources.find((function(t){return t.id===e.resourceId}))),r?"#META_INFO#"===r.title?{style:{background:"none",border:"none"}}:{style:{background:r.color,cursor:"grab"},className:"eventPanel"}:(console.log("no resource found: ",e),console.log(this.state.resources),"")}function H(e,t){if("resources"!==t&&"shifts"!==t)return console.log("Wrong type: ",t,e),{};var n=0;return this.state[t].forEach((function(e){e.id>=n&&(n=e.id)})),this.state.meta.archive[t].forEach((function(e){e.id>=n&&(n=e.id)})),n++,e.id=n,this.setState((function(n,a){var r=v()(n[t],{$push:[e]});return D(r,t),Object(l.a)({},t,r)})),e}function L(e,t){if("resources"!==t&&"shifts"!==t)return console.log("Wrong type: ",t,e),{};var n=this.state[t].findIndex((function(t){return t.id===e.id})),a=v()(this.state.meta,{archive:Object(l.a)({},t,{$push:[e]})});return this.setState((function(e,t){return D(a,"metaData"),{meta:a}})),this.setState((function(e,a){var r=v()(e[t],{$splice:[[n,1]]});return D(r,t),Object(l.a)({},t,r)})),e}n(312);var P=n(84),F=n.n(P),V=n(125),U=n.n(V),J=n(83),G=n.n(J),Y=(n(168),n(206)),Z=n.n(Y);n(460);function q(e){return 2===e.toString().length?e:e<10?"0"+e:e}var K=n(126),W=n.n(K),z=n(127),X=n.n(z),$=(n(461),function(e){function t(e){return Object(c.a)(this,t),Object(d.a)(this,Object(A.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"loadErrorPanel",value:function(){if(this.state.loadError)return r.a.createElement("div",null)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"savePanel"},r.a.createElement("a",{href:URL.createObjectURL(j()),download:"schedule.json"},r.a.createElement("button",{className:"fileButton"},"Spara")),r.a.createElement("input",{type:"file",id:"file",className:"inputfile",accept:".json",onChange:function(t){t.preventDefault(),t.target.files[0].text().then((function(t){console.log("preload"),t=function(e){try{(e=JSON.parse(e)).resources=M(e.resources,!1),console.log("resources: ",e.resources),e.shifts=N(e.shifts,!1),e.events=C(e.events,!1),e.metaData=S(e.metaData,!1)}catch(t){return}return D(e.resources,"resources"),D(e.shifts,"shifts"),D(e.events,"events"),D(e.metaData,"metaData"),e.created=new Date(e.created),e}(t),e.props.insert(t),e.props.closeModal()}))},style:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute",zIndex:"-1"}}),r.a.createElement("label",{htmlFor:"file",className:"fileButton clickable"},"\xd6ppna"))}}]),t}(a.Component)),_=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(A.a)(t).call(this,e))).randomColor=function(){return"#"+((1<<24)*Math.random()|0).toString(16)},n.renderResources=function(){var e=n.props.resources.map((function(e,t){return r.a.createElement("div",{className:"option",key:t},r.a.createElement(F.a,{type:"text",value:e.title,onSave:function(t){e.title=t,n.props.updateElement(e,"resources")},onValidate:function(e){return e.length>0},validationMessage:"Namnet kan inte vara tomt",saveButtonLabel:"Spara",cancelButtonLabel:"Avbryt",onHoverCssClass:"clickable"}),r.a.createElement("div",{className:"optionSidePanel"},r.a.createElement("div",{style:{display:"inline-table"}},r.a.createElement(G.a,{animation:"slide-up",color:e.color,onClose:function(t){e.color=t.color,n.props.updateElement(e,"resources")},enableAlpha:!1})),r.a.createElement(U.a,{className:"confirmButton",textValues:["","Ta bort?",""],onClick:function(){return n.props.archive(e,"resources")},showTimer:!0,isExecuting:!1},r.a.createElement("img",{src:W.a,alt:"[Delete]",className:"clickable"}))))})),t=r.a.createElement("div",{style:{textAlign:"center",marginTop:"5px"},onClick:function(){n.props.create({title:"Person",color:n.randomColor()},"resources")},className:"clickable",key:e.length},r.a.createElement("img",{src:X.a,alt:"L\xe4gg till",style:{height:"20px"}}));return e.push(t),e},n.renderShifts=function(){var e=n.props.shifts.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement(F.a,{type:"text",value:e.title,onSave:function(t){0!==t.length&&(e.title=t,n.props.updateElement(e,"shifts"))},onValidate:function(e){return e.length>0},validationMessage:"Namnet kan inte vara tomt",saveButtonLabel:"Spara",cancelButtonLabel:"Avbryt",onHoverCssClass:"clickable"})),r.a.createElement("td",null,r.a.createElement(Z.a,{time:e.startHour+":"+e.startMinute,onFocusChange:function(e){n.setState({timePickerOpen:!1})},onTimeChange:function(t){var a=t.hour,r=t.minute,s=v()(e,{startHour:{$set:a},startMinute:{$set:r}});n.props.updateElement(s,"shifts")},withoutIcon:!0,focused:n.state.timePickerOpen===e.id,trigger:r.a.createElement("div",{onClick:function(t){n.setState({timePickerOpen:e.id})},className:"clickable"},"".concat(q(e.startHour),":")+"".concat(q(e.startMinute)))})),r.a.createElement("td",null,r.a.createElement(F.a,{type:"number",value:e.minuteLength.toString(),onSave:function(t){e.minuteLength=t,n.props.updateElement(e,"shifts")},onValidate:function(e){return e>0},validationMessage:"M\xe5ste vara en siffra > 0",saveButtonLabel:"Spara",cancelButtonLabel:"Avbryt",onHoverCssClass:"clickable"})),r.a.createElement("td",null,r.a.createElement("div",{className:"optionSidePanel"},r.a.createElement(U.a,{className:"confirmButton",textValues:["","Ta bort?",""],onClick:function(){return n.props.archive(e,"shifts")},showTimer:!0,isExecuting:!1},r.a.createElement("img",{src:W.a,alt:"[Delete]",className:"clickable"})))))}));return r.a.createElement(r.a.Fragment,null,e)},n.addShiftRow=function(){return r.a.createElement("div",{style:{textAlign:"center",marginTop:"5px"},onClick:function(){return n.props.create({title:"Pass",startHour:13,startMinute:37,minuteLength:420},"shifts")},className:"clickable"},r.a.createElement("img",{src:X.a,alt:"L\xe4gg till",style:{height:"20px"}}))},n.state={picked:{hour:0,minute:0},timePickerOpen:!1,shifts:n.props.shifts,time:{hour:21,minute:5}},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{id:"closeBubble",onClick:this.props.closeModal},r.a.createElement("div",{className:"__arc"},"X")),r.a.createElement("div",{className:"modalPanel"},r.a.createElement("div",{className:"boxLabel"},"Resurser"),r.a.createElement("div",{className:"pickerBox"},this.renderResources())),r.a.createElement("div",{className:"modalPanel"},r.a.createElement("div",{className:"boxLabel"},"Pass"),r.a.createElement("div",{className:"pickerBox"},r.a.createElement("table",{className:"panelTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"left"}},"Namn"),r.a.createElement("th",{style:{textAlign:"center"}},"Start"),r.a.createElement("th",null,"L\xe4ngd (min)"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.renderShifts())),this.addShiftRow())),r.a.createElement("div",{className:"modalPanel"},r.a.createElement("div",{className:"boxLabel"},"Lagring"),r.a.createElement("div",{className:"pickerBox"},r.a.createElement($,{insert:function(t){return e.props.insert(t)},closeModal:this.props.closeModal}))))}}]),t}(a.Component),ee=n(207),te=n.n(ee);function ne(e){var t=new Date;t.setHours(e.shift.startHour,e.shift.startMinute,0),t=O()(t).add(e.shift.minuteLength,"m").toDate();var n=q(e.shift.startHour)+":"+q(e.shift.startMinute)+" - "+q(t.getHours())+":"+q(t.getMinutes());return r.a.createElement("div",{className:e.className},n)}var ae=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(A.a)(t).call(this,e))).renderShifts=function(){return n.props.shifts&&0!==n.props.shifts.length?n.props.shifts.map((function(e,t){return r.a.createElement("div",{className:"".concat(n.matchId(e.id,"shift")?" selected":"")+" option clickable",onClick:function(){n.setState({selected:v()(n.props.selected,{shift:{$set:e}})}),n.props.setSelected({shift:e,resource:n.props.selected.resource})},key:t},r.a.createElement("div",{className:"shiftTitle"},e.title),r.a.createElement(ne,{className:"shiftInfo",shift:e}))})):r.a.createElement("div",{style:{fontStyle:"italic",color:"#878787",textAlign:"center",cursor:"default",whiteSpace:"nowrap"}},"Inga skift tillagda")},n.renderResources=function(){return n.props.resources&&0!==n.props.resources.length?n.props.resources.map((function(e,t){return r.a.createElement("div",{className:"".concat(n.matchId(e.id,"resource")?" selected":"")+" option clickable",onClick:function(){n.setState({selected:v()(n.props.selected,{resource:{$set:e}})}),n.props.setSelected({shift:n.props.selected.shift,resource:e})},key:t},e.title)})):r.a.createElement("div",{style:{fontStyle:"italic",color:"#878787",textAlign:"center",cursor:"default",whiteSpace:"nowrap"}},"Inga resurser tillagda")},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"matchId",value:function(e,t){if(this.props.selected&&this.props.selected[t]&&void 0!==this.props.selected[t].id)return e===this.props.selected[t].id}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"sideContainer"},r.a.createElement("div",{className:"boxLabel"},"Pass"),r.a.createElement("div",{className:"pickerBox"},this.renderShifts()),r.a.createElement("div",{className:"boxLabel"},"Resurser"),r.a.createElement("div",{className:"pickerBox"},this.renderResources()),r.a.createElement("img",{onClick:function(){return e.props.setOptionsModal(!0)},src:te.a,alt:"[Options]",style:{position:"absolute",bottom:"10px",right:"10px",width:"30px",cursor:"pointer"}}))}}]),t}(a.Component),re=n(208),se=n.n(re),oe=(n(473),n(474),function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(d.a)(this,Object(A.a)(t).call(this,e))).randomColor=function(){return"#"+((1<<24)*Math.random()|0).toString(16)},n.generalErrorPanel=function(e){return void 0===n.state[e]?"":r.a.createElement("div",{style:{textAlign:"center",margin:"0px 0px 6px",background:"#ffa5a5",padding:"4px 0 4px 0"}},n.state[e])},n.dateTimePicker=function(e){var t=e.trigger,a=e.target,s=n.state[a];return t?r.a.createElement(se.a,{mindate:new Date,moment:O()(n.state[a]),onSave:function(){var e;n.setState((e={},Object(l.a)(e,"".concat(a,"Choosing"),!1),Object(l.a)(e,"dateError",void 0),e))},onChange:function(e){var t;"start"===a&&e.isAfter(n.state.end)?n.setState({dateError:"H\xe4ndelsen m\xe5ste b\xf6rja innan den slutar"}):"end"===a&&e.isBefore(n.state.start)?n.setState({dateError:"H\xe4ndelsen f\xe5r inte sluta innan den b\xf6rjar"}):n.setState((t={},Object(l.a)(t,a,e.toDate()),Object(l.a)(t,"dateError",void 0),t))},minStep:15,hourStep:1,prevMonthIcon:"ion-ios-arrow-left",nextMonthIcon:"ion-ios-arrow-right"}):r.a.createElement("div",{className:"clickable",style:{display:"inline-table",padding:"0px 4px 0px 4px"},onClick:function(){n.setState(Object(l.a)({},"".concat(a,"Choosing"),!0))}},s.getFullYear()+"-"+q(s.getMonth()+1)+"-"+q(s.getDate())+" "+q(s.getHours())+":"+q(s.getMinutes()))},n.optionsTable=function(){if(n.state.startChoosing||n.state.endChoosing){var e=n.state.startChoosing?"start":"end";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"100%",textAlign:"center"}},r.a.createElement("b",null,"start"===e?"B\xf6rjar":"Slutar")),n.generalErrorPanel("dateError"),n.dateTimePicker({trigger:!0,target:e}))}return r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"50px"}},"F\xe4rg"),r.a.createElement("td",null,r.a.createElement(G.a,{enableAlpha:!1,animation:"slide-up",color:n.state.eventColor,onClose:function(e){n.setState({eventColor:e.color})}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"B\xf6rjar"),r.a.createElement("td",null,n.dateTimePicker({trigger:n.state.startChoosing,target:"start"}))),r.a.createElement("tr",null,r.a.createElement("td",null,"Slutar"),r.a.createElement("td",null,n.dateTimePicker({trigger:n.state.endChoosing,target:"end"})))))};var a,s,o=void 0===n.props.event.color?n.randomColor():n.props.event.color;return void 0===n.props.event.title&&void 0===n.props.event.customTitle?(a="Titel",s=""):s=a=void 0!==n.props.event.title?n.props.event.title:n.props.event.customTitle,n.state={eventColor:o,start:n.props.event.start,end:n.props.event.end,customTitle:s,previousTitle:a,startChoosing:!1,endChoosing:!1},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.titleInput.focus()}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.state.customTitle&&0!==e.state.customTitle.length?void 0!==e.props.event.id?(e.props.editEvent({id:e.props.event.id,customTitle:e.state.customTitle,start:e.state.start,end:e.state.end,color:e.state.eventColor,resourceId:void 0,shiftId:void 0}),e.props.closeModal()):(e.props.addEvent({customTitle:e.state.customTitle,start:e.state.start,end:e.state.end,color:e.state.eventColor}),e.props.closeModal()):e.setState({titleError:"Titeln f\xe5r inte vara tom"})}},r.a.createElement("div",{style:{textAlign:"center",fontWeight:"bold",margin:"-8px 0px 6px 0px"}},void 0===this.props.event.id?"Ny h\xe4ndelse":"Redigera h\xe4ndelse"),r.a.createElement("input",{ref:function(t){return e.titleInput=t},type:"text",placeholder:this.state.previousTitle,value:this.state.customTitle,onChange:function(t){var n=void 0;0===t.target.value.length&&(n=e.state.titleError),e.setState({customTitle:t.target.value,titleError:n})},style:{padding:"4px"}}),this.generalErrorPanel("titleError"),this.optionsTable(),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"-3px"}},r.a.createElement("input",{type:"submit",value:"Spara",style:{borderRadius:"0px 0px 0px 5px"}}),r.a.createElement("button",{onClick:this.props.closeModal,style:{borderRadius:"0px 0px 5px 0px"}},"Avbryt")))}}]),t}(a.Component));n(475);O.a.locale("sv");var ie=Object(g.b)(O.a),le=y()(g.a),ce=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(d.a)(this,Object(A.a)(t).call(this,e))).setSelected=function(e){var t=e.shift,a=e.resource;n.setState({selected:{shift:t,resource:a}})},n.updateElement=function(e,t){var a;console.log("newElement: ",e);var r=n.state[t].findIndex((function(t){return t.id===e.id}));"resources"===t&&-1===r&&(r=n.state.meta.archive.findIndex((function(t){return t.id===e.id})));var s=v()(n.state[t],{$splice:[[r,!0,e]]}),o=n.state.events;"shifts"===t&&D(o=n.state.events.map((function(t){return t.shiftId===e.id&&(t.start.setHours(e.startHour,e.startMinute,0),t.end=O()(t.start).add(e.minuteLength,"m").toDate()),t})),"events"),n.setState((a={},Object(l.a)(a,t,s),Object(l.a)(a,"events",o),a)),D(s,t)};var a=C(),r=M(),s=N(),o=S();return n.state={events:a,resources:r,shifts:s,selected:{shift:s[0],resource:r[0]},optionsModalOpen:!1,editEventModalOpen:!1,meta:o,view:"month"},n.moveEvent=w.bind(Object(m.a)(n)),n.addEvents=I.bind(Object(m.a)(n)),n.addEvent=k.bind(Object(m.a)(n)),n.removeEvent=T.bind(Object(m.a)(n)),n.eventRender=R.bind(Object(m.a)(n)),n.getEventProp=Q.bind(Object(m.a)(n)),n.create=H.bind(Object(m.a)(n)),n.archive=L.bind(Object(m.a)(n)),n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t="";return"month"===this.state.view&&(t=r.a.createElement(ae,{resources:this.state.resources,shifts:this.state.shifts,selected:this.state.selected,setSelected:this.setSelected,optionsModalOpen:this.state.optionsModalOpen,setOptionsModal:function(t){return e.setState({optionsModalOpen:t})}})),r.a.createElement("div",{id:"container"},r.a.createElement(E.a,{isOpen:this.state.optionsModalOpen,shouldCloseOnOverlayClick:!1,className:"modalCommon optionsMenuModal",overlayClassName:"modalOverlayCommon",onAfterOpen:function(){return document.getElementById("root").style.filter="blur(2px)"},onRequestClose:function(){document.getElementById("root").style.filter="",e.setState({optionsModalOpen:!1})},ariaHideApp:!1},r.a.createElement(_,{resources:this.state.resources,shifts:this.state.shifts,updateElement:this.updateElement,closeModal:function(){document.getElementById("root").style.filter="",e.setState({optionsModalOpen:!1})},archive:function(t,n){e.archive(t,n);var a=e.state[n].find((function(e){return e.id!==t.id}));e.setState({selected:v()(e.state.selected,Object(l.a)({},n.slice(0,-1),{$set:a}))})},create:function(t,n){var a=e.create(t,n);e.state.selected[n.slice(0,-1)]||e.setState({selected:v()(e.state.selected,Object(l.a)({},n.slice(0,-1),{$set:a}))})},insert:function(t){e.setState({events:t.events,shifts:t.shifts,resources:t.resources,metaData:t.metaData})}})),r.a.createElement(E.a,{isOpen:this.state.editEventModalOpen,shouldCloseOnOverlayClick:!1,className:"modalCommon editEventModal",overlayClassName:"modalOverlayCommon",onAfterOpen:function(){return document.getElementById("root").style.filter="blur(2px)"},onRequestClose:function(){document.getElementById("root").style.filter="",e.setState({editEventModalOpen:!1})},ariaHideApp:!1},r.a.createElement(oe,{addEvent:this.addEvent,event:this.state.eventBasis,editEvent:function(t){var n=e.state.events.findIndex((function(e){return e.id===t.id})),a=v()(e.state.events,{$splice:[[n,!0,t]]});e.setState({events:a}),D(a,"events")},closeModal:function(){document.getElementById("root").style.filter="",e.setState({editEventModalOpen:!1})}})),r.a.createElement("div",{id:"calendar"},r.a.createElement(le,{resizableAccessor:function(){return!1},startAccessor:"start",endAccessor:"end",localizer:ie,events:this.state.events,onEventDrop:this.moveEvent,onDragStart:console.log,onSelectSlot:function(t){"month"===e.state.view&&e.addEvents(t),"week"===e.state.view&&e.setState({editEventModalOpen:!0,eventBasis:{start:t.start,end:t.end}})},onDoubleClickEvent:function(t,n){var a,r;if(a=void 0===t.color?e.state.resources.find((function(e){return e.id===t.resourceId})).color:t.color,void 0===t.title&&void 0===t.customTitle){var s=e.state.resources.find((function(e){return e.id===t.resourceId})),o=e.state.shifts.find((function(e){return e.id===t.shiftId}));r=s.title+", "+o.title}else r=void 0;e.setState({eventBasis:Object(i.a)({},t,{color:a,title:r}),editEventModalOpen:!0})},defaultView:"month",defaultDate:new Date,eventPropGetter:this.getEventProp,selectable:"ignoreEvents",views:["month","week"],onView:function(t){return e.setState({view:t})},step:60,popup:!0,components:{eventWrapper:function(t){var n=t.event,a=t.children;return r.a.createElement("div",{onContextMenu:function(t){e.removeEvent(n,t),t.preventDefault()}},a)},event:this.eventRender}})),t)}}]),t}(a.Component);o.a.render(r.a.createElement(ce,null),document.getElementById("root"))}},[[210,1,2]]]);
//# sourceMappingURL=main.55b81f69.chunk.js.map