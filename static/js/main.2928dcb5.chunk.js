(this.webpackJsonpscheduler=this.webpackJsonpscheduler||[]).push([[0],{107:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAQAAABpN6lAAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkAgUGDw8ftS2KAAACkklEQVR42u2dPWsUURhGH7+IK4LxIyiiWKXTSiGFWNnYWlikF2v/iB9FfkVQhPQ2BvEHqGlSLojLbkKaYGPYVBbqO8zdyztzlHnOdMOdu+eeZXdndpNdKZuRNjTTvINtpg2N0n3Ted3J4n9tr+jltTPuNMA4W/dkeoBLneZNnz0/wH+GA9ACNA5AC9AMPsDpXm7lmz5WHHVf1/uNkcNhcPqyVTXTVjDTYbbu4B8CDkAL0Aw+QNmrwCk90KpOVM/4SPsVbufD2Z8VHTvXrrZ1lBNppO1OL3G72j7obMl9285zPc0p2TO3dKBPbYNKngPu0iup5l77kJIAZ+h1VFNgPvhXAQegBWgcgBagKQmQdD4FUGBeEuArvY5qPudMs6wd/LS2ZtvRhfbFlV3gnNNj3QDvyRrGeqcftIQx/zxlzwG/s6vLtHYDe1pd9JCazwWWdZFeaQMVZyw+E6QFaByAFqBxAFqAxgFoARoHoAVoHIAWoBl8gMy/Evui78Heh8El9yR8u/KOrv61b673wchrut1XoIhpw5uQ6+Hoo2DkZjhyMxgZX+CuNxhMF1/M4B8CDkAL0DgALUDjALQAjQPQAjQOQAvQOAAtQOMAtACNA9ACNA5AC9A4AC1A4wC0AI0D0AI0DkAL0DgALUDjALQAjQPQAjQOQAvQOAAtQOMAtACNA9ACNA5AC9A4AC1A4wC0AI0D0AI0DkAL0DgALUDjALQAjQPQAjQOQAvQDD5A5n+Pr+lnsDf6urabehLujY6ORq7lSdd8m9xUV/IEUplpZdFDBv8QcABagMYBaAEaB6AFaByAFqBxAFqAxgFoAZqaADU/nNYPe/0EeEuvs5E3/dzMkl5qgv+Axp/bRC+0tPhijgFmD/LwO3VKLgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wMi0wNVQwNjoxNToxNSswMDowMBuhWXUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDItMDVUMDY6MTU6MTUrMDA6MDBq/OHJAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},108:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkAg0HFhzEfYeUAAADIklEQVRo3sWZz08TQRTHP10b0YB08WTrAaIehZDij5r4R5gY4hXwRA2RcCESTDgZFENo1DvxR2IRf9yBCxzsQQsBLxIUPAhcqNuCJ5T1sGwKMvtjtrvd9y7tTmc+332zfTvzJoKsJUjSRisJYqjEgCIaRX6yQJ4869IjurbLPGYN3cFXGeGS3+gYg3xzRB/0FQaJ+QOvo5+CFNz0EsOolcEjpD3CTS+QJuIV38R0RXDT57jgBX+bki94YzK6ZEM/5Bvc9AyKW3wNr3zH6+hMctIdfiYQvI7ONDXOwX8RGF5HJ+s0ESOB4nV0hu2f/KDxOjqdh0NetiYWOeXyQf3NGF/4u//tGBfppdZl321aWBPNvvuHb5fUkf4pdl33nxFlx7REEOeEdzYrMUL6/871bEl0nxAKyEqM8Mt8TZl/il5Ou5xBf0yl56CAGL1VxQP0GTEwBPTQUHUBKnfKAjqqjgfoImIIuML5UAScI2kIuBUKHoOsADdDE9AOCmdpDE1AE3GFZGh4gGTUVsAfPrIpuJ4T/jonXP/GSRG1FgAfLNPltuCV48VS7Fgy3imcseyYsbhTWcuRsWyLKzZ7lyVf8ACLli2qYpOE93wTYD2Sqvi1hfRoDQp6qAL2FIqhCtAUNMtG11spR7MeqWgnoNk3AS3WEYD3lklipwqJ6G2UeW5YdKxljhwbgpYco4KrfULBCa7apOKFKHkb7VGuS91pu3R0Piu2AoK3vMK6aJtUJVtlUwEmQxMwYfxDs6EJyBoCPrESCn6ZeTNHjYciYBxMAU8oVB1f4GlZQMlmzRKUjbJdFgBjVY6BxjPjgymgxH2J7nHh1YTECANHX4KVlmiuSZRopssLeO9FqgxLB4pUzdx1XaQq0cIPcVNXQIW5w95hp+5h4PgH9uGJ8DxQ/GvnhV6NT8cUIp9yLlYDHOdlIPg3nHD5mIZ9YGFYp49HNkVvZbBGpnzBz3o7tDKmoluqhHvUt+j2fmxnWB39HkVsMVTpwaVp9QywLAX/yj3Xad21tfGIVUf0dx7KFL7k5ydOkiStJFBRUQENDY31/eP7Dbnh/gG979F//hqDMwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wMi0xM1QwNzoyMjoyOCswMDowMIZmOQwAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDItMTNUMDc6MjI6MjgrMDA6MDD3O4GwAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},159:function(e,t,n){e.exports=n(356)},164:function(e,t,n){},273:function(e,t,n){},351:function(e,t){e.exports="data:image/png;base64,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"},352:function(e,t,n){},353:function(e,t,n){},356:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(3),i=n.n(r),o=(n(164),n(72)),c=n(15),l=n(11),u=n(17),A=n(16),d=n(4),h=n(18),f=n(7),m=n.n(f),v=n(104),p=n.n(v),E=n(109),g=n(9),b=n.n(g),y=n(151),O=n.n(y);n(271),n(272);function C(e){window.localStorage.setItem("schedule_events",JSON.stringify(e))}function D(e){window.localStorage.setItem("schedule_resources",JSON.stringify(e))}function S(e){window.localStorage.setItem("schedule_shifts",JSON.stringify(e))}function N(e){window.localStorage.setItem("schedule_metaData",JSON.stringify(e))}var B=n(158),M=n(152);function j(e){var t=e.event,n=e.start,a=e.end,s=e.isAllDay,r=this.state.events,i=r.findIndex((function(e){return e.id===t.id})),o=t.allDay;!t.allDay&&s?o=!0:t.allDay&&!s&&(o=!1);var c=Object(M.a)({},t,{start:n,end:a,allDay:o}),l=Object(B.a)(r);l.splice(i,1,c),this.setState({events:l}),C(this.state.events)}function I(e){var t=this;if(function(e,t){if(console.log("step: ",t),"select"!==e.action)return!1;if(e.slots.length<2)return!1;var n=b()(e.slots[0]),a=b()(e.slots[1]);return b.a.duration(a.diff(n)).as("minutes")===t}(e,this.state.step)){console.log("custom event!",e);var n=0;return this.state.events.forEach((function(e){e.id>n&&(n=e.id)})),n++,void this.setState({customEventModalOpen:!0,customEvent:{start:e.slots[0].start,end:e.slots[e.slots.length-1].end,id:n,allDay:!1}})}if(!("click"===e.action&&e.slots.length>1)&&this.state.selected.resource&&this.state.selected.shift){var a=0;this.state.events.forEach((function(e){e.id>a&&(a=e.id)})),a+=1;var s=[];e.slots.forEach((function(e){var n=t.state.selected.shift,r=e;r.setHours(n.startHour,n.startMinute,0);var i={start:r,end:b()(r).add(n.minuteLength,"m").toDate(),allDay:!1,id:a,resourceId:t.state.selected.resource.id,shiftId:t.state.selected.shift.id};s.push(i),a++})),this.setState((function(e,t){return C(e.events.concat(s)),{events:e.events.concat(s)}}))}}function w(e,t){this.setState((function(t,n){var a=t.events.filter((function(t){return t.id!==e.id}));return C(a),{events:a}}))}function k(e){var t=e.event,n=this.state.resources.find((function(e){return e.id===t.resourceId}));void 0===n&&(n=this.state.meta.archive.resources.find((function(e){return e.id===t.resourceId})));var a=this.state.shifts.find((function(e){return e.id===t.shiftId})),r="";return r=t.customTitle?t.customTitle:n.title+", "+a.title,s.a.createElement("div",null,r)}function x(e,t,n,a){var s=this.state.resources.find((function(t){return t.id===e.resourceId}));return void 0===s&&(s=this.state.meta.archive.resources.find((function(t){return t.id===e.resourceId}))),s?"#META_INFO#"===s.title?{style:{background:"none",border:"none"}}:{style:{background:s.color,cursor:"grab"},className:"eventPanel"}:(console.log("no resource found: ",e),console.log(this.state.resources),"")}function P(e,t){var n=0;this.state.resources.forEach((function(e){e.id>=n&&(n=e.id)})),this.state.meta.archive.resources.forEach((function(e){e.id>=n&&(n=e.id)})),n++;var a={title:e,id:n,color:t,resourceTitleAccessor:function(){return e},resourceIdAccessor:function(){return n}};return this.setState((function(e,t){var n=m()(e.resources,{$push:[a]});return D(n),{resources:n}})),a}function Q(e){if(this.state.meta.archive.resources.find((function(t){return t.id===e.id}))){var t=this.state.resources.findIndex((function(t){return t.id===e.id}));this.setState((function(e,n){D(m()(e.resources,{$splice:[[t,1]]}))}))}else{var n=this.state.resources.findIndex((function(t){return t.id===e.id})),a=m()(this.state.meta,{archive:{resources:{$push:[e]}}});if(this.setState((function(e,t){return N(a),{meta:a}})),this.setState((function(e,t){var a=m()(e.resources,{$splice:[[n,1]]});return D(a),{resources:a}})),void 0===this.state.selected.resource)return;if(this.state.selected.resource.id===e.id){var s=this.state.resources.find((function(t){return t.id!==e.id}));this.setState({selected:m()(this.state.selected,{resource:{$set:s}})})}}}function R(e,t,n,a){var s=0;this.state.shifts.forEach((function(e){e.id>=s&&(s=e.id)})),this.state.meta.archive.shifts.forEach((function(e){e.id>=s&&(s=e.id)}));var r={title:e,id:++s,startHour:t,startMinute:n,minuteLength:a};return this.setState((function(e,t){var n=m()(e.shifts,{$push:[r]});return S(n),{shifts:n}})),r}function U(e){if(this.state.meta.archive.shifts.find((function(t){return t.id===e.id}))){var t=this.state.shifts.findIndex((function(e){return e.id===e.id}));this.setState((function(e,n){var a=m()(e.shifts,{$splice:[[t,1]]});return S(a),{shifts:a}}))}else{var n=this.state.shifts.findIndex((function(t){return t.id===e.id})),a=m()(this.state.meta,{archive:{shifts:{$push:[e]}}});if(this.setState((function(e,t){return N(a),{meta:a}})),this.setState((function(e,t){var a=m()(e.shifts,{$splice:[[n,1]]});return S(a),{shifts:a}})),void 0===this.state.selected.shift)return;if(this.state.selected.shift.id===e.id){var s=this.state.shifts.find((function(t){return t.id!==e.id}));this.setState({selected:m()(this.state.selected,{shift:{$set:s}})})}}}n(273);var L=n(52),F=n.n(L),T=n(101),V=n.n(T),G=n(106),H=n.n(G),J=n(75),Y=n.n(J),Z=(n(148),n(107)),K=n.n(Z),W=(n(351),n(108)),z=n.n(W),X=(n(352),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(A.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return"FTP panel component"}}]),t}(a.Component));function q(e){return e<10?"0"+e:e}function $(e){var t=this,n=e.startHour,a=e.startMinute;return s.a.createElement(s.a.Fragment,null,s.a.createElement(V.a,{maxDetail:"minute",isOpen:!0,hourPlaceholder:q(n).toString(),minutePlaceholder:q(a).toString(),locale:"sv-SE",value:"".concat(q(n),":").concat(q(a),":00"),onChange:function(e){return t.setState({picked:e})},autoFocus:!0}))}var _=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(A.a)(t).call(this,e))).randomColor=function(){return"#"+((1<<24)*Math.random()|0).toString(16)},n.renderResources=function(){var e=n.props.resources.map((function(e,t){return s.a.createElement("div",{className:"option",key:t},s.a.createElement(F.a,{type:"text",value:e.title,onSave:function(t){e.title=t,n.props.updateElement(e,"resources")},onValidate:function(e){return e.length>0},validationMessage:"Namnet kan inte vara tomt",saveButtonLabel:"Spara",cancelButtonLabel:"Avbryt",onHoverCssClass:"clickable"}),s.a.createElement("div",{className:"optionSidePanel"},s.a.createElement("div",{style:{display:"inline-table"}},s.a.createElement(Y.a,{animation:"slide-up",color:e.color,onClose:function(t){e.color=t.color,n.props.updateElement(e,"resources")},enableAlpha:!1})),s.a.createElement(H.a,{className:"confirmButton",textValues:["","Delete?",""],onClick:function(){return n.props.archiveResource(e)},showTimer:!0},s.a.createElement("img",{src:K.a,alt:"[Delete]",className:"clickable"}))))})),t=s.a.createElement("div",{style:{textAlign:"center"},onClick:function(){n.props.createResource("Person",n.randomColor())},className:"clickable",key:e.length},s.a.createElement("img",{src:z.a,alt:"L\xe4gg till",style:{height:"20px"}}));return e.push(t),e},n.renderShifts=function(){var e=n.props.shifts.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,s.a.createElement(F.a,{type:"text",value:e.title,onSave:function(t){0!==t.length&&(e.title=t,n.props.updateElement(e,"shifts"))},onValidate:function(e){return e.length>0},validationMessage:"Namnet kan inte vara tomt",saveButtonLabel:"Spara",cancelButtonLabel:"Avbryt",onHoverCssClass:"clickable"})),s.a.createElement("td",null,s.a.createElement(F.a,{type:"text",value:q(e.startHour)+":"+q(e.startMinute),onSave:function(t){e.startHour=parseInt(n.state.picked.split(":")[0]),e.startMinute=parseInt(n.state.picked.split(":")[1]),n.props.updateElement(e,"shifts")},editComponent:n.clock(e),saveButtonLabel:"Spara",cancelButtonLabel:"Avbryt",onHoverCssClass:"clickable"})),s.a.createElement("td",null,s.a.createElement(F.a,{type:"number",value:e.minuteLength.toString(),onSave:function(t){e.minuteLength=t,n.props.updateElement(e,"shifts")},onValidate:function(e){return e>0},validationMessage:"M\xe5ste vara en siffra > 0",saveButtonLabel:"Spara",cancelButtonLabel:"Avbryt",onHoverCssClass:"clickable"})),s.a.createElement("td",null,s.a.createElement("div",{className:"optionSidePanel"},s.a.createElement(H.a,{className:"confirmButton",textValues:["","Delete?",""],onClick:function(){return n.props.archiveShift(e)},showTimer:!0},s.a.createElement("img",{src:K.a,alt:"[Delete]",className:"clickable"})))))})),t=s.a.createElement("div",{style:{textAlign:"center"},onClick:function(){return n.props.createShift("Pass",13,37,420)},className:"clickable",key:e.length},s.a.createElement("img",{src:z.a,alt:"L\xe4gg till",style:{height:"20px"}}));return s.a.createElement(s.a.Fragment,null,e,t)},n.state={picked:{hour:0,minute:0}},n.clock=$.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{display:"flex"}},s.a.createElement("div",{id:"closeBubble",onClick:this.props.closeModal},s.a.createElement("div",{className:"__arc"},"X")),s.a.createElement("div",{className:"modalPanel"},s.a.createElement("div",{className:"boxLabel"},"Resurser"),s.a.createElement("div",{className:"pickerBox"},this.renderResources())),s.a.createElement("div",{className:"modalPanel"},s.a.createElement("div",{className:"boxLabel"},"Pass"),s.a.createElement("div",{className:"pickerBox"},s.a.createElement("table",{className:"panelTable"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{style:{textAlign:"left"}},"Namn"),s.a.createElement("th",{style:{textAlign:"center"}},"Start"),s.a.createElement("th",null,"L\xe4ngd (min)"),s.a.createElement("th",null))),s.a.createElement("tbody",null,this.renderShifts())))),s.a.createElement("div",{className:"modalPanel"},s.a.createElement("div",{className:"boxLabel"},"FTP"),s.a.createElement("div",{className:"pickerBox"},s.a.createElement(X,null))))}}]),t}(a.Component);function ee(e){return e<10?"0"+e:e}function te(e){var t=new Date;t.setHours(e.shift.startHour,e.shift.startMinute,0),t=b()(t).add(e.shift.minuteLength,"m").toDate();var n=ee(e.shift.startHour)+":"+ee(e.shift.startMinute)+" - "+ee(t.getHours())+":"+ee(t.getMinutes());return s.a.createElement("div",{className:e.className},n)}var ne=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(A.a)(t).call(this,e))).renderShifts=function(){return n.props.shifts&&0!==n.props.shifts.length?n.props.shifts.map((function(e,t){return s.a.createElement("div",{className:"".concat(n.matchId(e.id,"shift")?" selected":"")+" option clickable",onClick:function(){n.setState({selected:m()(n.props.selected,{shift:{$set:e}})}),n.props.setSelected({shift:e,resource:n.props.selected.resource})},key:t},s.a.createElement("div",{className:"shiftTitle"},e.title),s.a.createElement(te,{className:"shiftInfo",shift:e}))})):s.a.createElement("div",{style:{fontStyle:"italic",color:"#878787",textAlign:"center",cursor:"default"}},"-- Inga skift tillagda --")},n.renderResources=function(){return n.props.resources&&0!==n.props.resources.length?n.props.resources.map((function(e,t){return s.a.createElement("div",{className:"".concat(n.matchId(e.id,"resource")?" selected":"")+" option clickable",onClick:function(){n.setState({selected:m()(n.props.selected,{resource:{$set:e}})}),n.props.setSelected({shift:n.props.selected.shift,resource:e})},key:t},e.title)})):s.a.createElement("div",{style:{fontStyle:"italic",color:"#878787",textAlign:"center",cursor:"default"}},"-- Inga resurser tillagda --")},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"matchId",value:function(e,t){if(this.props.selected&&this.props.selected[t]&&void 0!==this.props.selected[t].id)return e===this.props.selected[t].id}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"sideContainer"},s.a.createElement("div",{className:"boxLabel"},"Pass"),s.a.createElement("div",{className:"pickerBox"},this.renderShifts()),s.a.createElement("div",{className:"boxLabel"},"Personer"),s.a.createElement("div",{className:"pickerBox"},this.renderResources()),s.a.createElement("button",{onClick:function(){return e.props.setOptionsModal(!0)}},"Options"))}}]),t}(a.Component),ae=(n(353),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(A.a)(t).call(this,e))).randomColor=function(){return"#"+((1<<24)*Math.random()|0).toString(16)},n.state={eventColor:n.props.event.color,start:n.props.event.start,end:n.props.event.end},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.titleInput.focus()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{textAlign:"center",fontWeight:"bold"}},"Ny h\xe4ndelse"),s.a.createElement("input",{ref:function(t){return e.titleInput=t},type:"text",placeholder:"Titel"}),s.a.createElement("div",null,s.a.createElement("div",null,"F\xe4rg"),s.a.createElement(Y.a,{enableAlpha:!1,animation:"slide-up",color:this.state.eventColor,onClose:function(t){e.setState({eventColor:t.color})}})),s.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},s.a.createElement("button",{onClick:function(){e.props.closeModal()}},"Spara"),s.a.createElement("button",{onClick:this.props.closeModal},"Avbryt")))}}]),t}(a.Component));n(354);b.a.locale("sv");var se=Object(E.b)(b.a),re=O()(E.a),ie=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(u.a)(this,Object(A.a)(t).call(this,e))).setSelected=function(e){var t=e.shift,a=e.resource;n.setState({selected:{shift:t,resource:a}})},n.updateElement=function(e,t){var a=n.state[t].findIndex((function(t){return t.id===e.id}));"resources"===t&&-1===a&&(a=n.state.meta.archive.findIndex((function(t){return t.id===e.id})));var s=m()(n.state[t],{$splice:[[a,!0,e]]});n.setState(Object(o.a)({},t,s)),"shifts"===t?S(s):"resources"===t&&D(s)};var a=function(){var e=window.localStorage.getItem("schedule_events");try{(e=JSON.parse(e)).map((function(e){return e.start=new Date(e.start),e.end=new Date(e.end),e}))}catch(t){return[]}return!e instanceof Array?[]:e}(),s=function(){var e=this,t=window.localStorage.getItem("schedule_resources");try{if(!(t=JSON.parse(t)))return[];t.forEach((function(n,a){t[a].resourceTitleAccessor=function(){return e.title},t[a].resourceIdAccessor=function(){return e.id}}))}catch(n){return[]}return!t instanceof Array?[]:t}(),r=function(){var e=window.localStorage.getItem("schedule_shifts");if(!e)return[];try{e=JSON.parse(e)}catch(t){return[]}return!e instanceof Array?[]:e}(),i=function(){var e=window.localStorage.getItem("schedule_metaData");try{(e=JSON.parse(e)).archive.resources||(e.archive.resources=[]),e.archive.shifts||(e.archive.shifts=[])}catch(t){return{archive:{resources:[],shifts:[]}}}return e}();return n.state={events:a,resources:s,shifts:r,selected:{shift:r[0],resource:s[0]},optionsModalOpen:!1,customEventModalOpen:!1,meta:i,step:15},n.moveEvent=j.bind(Object(d.a)(n)),n.newEvent=I.bind(Object(d.a)(n)),n.removeEvent=w.bind(Object(d.a)(n)),n.eventRender=k.bind(Object(d.a)(n)),n.getEventProp=x.bind(Object(d.a)(n)),n.createResource=P.bind(Object(d.a)(n)),n.archiveResource=Q.bind(Object(d.a)(n)),n.createShift=R.bind(Object(d.a)(n)),n.archiveShift=U.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"container"},s.a.createElement(p.a,{isOpen:this.state.optionsModalOpen,shouldCloseOnOverlayClick:!0,className:"modalCommon optionsMenuModal",overlayClassName:"modalOverlayCommon",onAfterOpen:function(){return document.getElementById("root").style.filter="blur(2px)"},onRequestClose:function(){document.getElementById("root").style.filter="",e.setState({optionsModalOpen:!1})},ariaHideApp:!1},s.a.createElement(_,{resources:this.state.resources,shifts:this.state.shifts,updateElement:this.updateElement,closeModal:function(){document.getElementById("root").style.filter="",e.setState({optionsModalOpen:!1})},archiveResource:this.archiveResource,createResource:this.createResource,archiveShift:this.archiveShift,createShift:this.createShift})),s.a.createElement(p.a,{isOpen:this.state.customEventModalOpen,shouldCloseOnOverlayClick:!1,className:"modalCommon customEventModal",overlayClassName:"modalOverlayCommon",onAfterOpen:function(){return document.getElementById("root").style.filter="blur(2px)"},onRequestClose:function(){document.getElementById("root").style.filter="",e.setState({customEventModalOpen:!1})},ariaHideApp:!1},s.a.createElement(ae,{createEvent:this.newEvent,event:{color:"#ddd",start:new Date,end:new Date},closeModal:function(){document.getElementById("root").style.filter="",e.setState({customEventModalOpen:!1})}})),s.a.createElement("div",{id:"calendar"},s.a.createElement(re,{startAccessor:"start",endAccessor:"end",localizer:se,events:this.state.events,onEventDrop:this.moveEvent,onEventResize:function(){},onDragStart:console.log,onSelectSlot:this.newEvent,defaultView:"month",defaultDate:new Date,eventPropGetter:this.getEventProp,selectable:"ignoreEvents",showMultiDayTimes:!0,step:this.state.step,views:["month","week"],popup:!0,components:{eventWrapper:function(t){var n=t.event,a=t.children;return s.a.createElement("div",{onContextMenu:function(t){e.removeEvent(n,t),t.preventDefault()}},a)},event:this.eventRender}})),s.a.createElement(ne,{resources:this.state.resources,shifts:this.state.shifts,selected:this.state.selected,setSelected:this.setSelected,optionsModalOpen:this.state.optionsModalOpen,setOptionsModal:function(t){return e.setState({optionsModalOpen:t})}}))}}]),t}(a.Component);i.a.render(s.a.createElement(ie,null),document.getElementById("root"))}},[[159,1,2]]]);
//# sourceMappingURL=main.2928dcb5.chunk.js.map