(this.webpackJsonpscheduler=this.webpackJsonpscheduler||[]).push([[0],{215:function(e){e.exports=JSON.parse('{"name":"scheduler","version":"1.0.0","private":true,"homepage":"https://bluebottel.github.io/Scheduler","dependencies":{"@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.4.0","@testing-library/user-event":"^7.2.1","gh-pages":"^2.2.0","immutability-helper":"^3.0.1","input-moment":"^0.4.0","moment":"^2.24.0","moment-range":"^4.0.2","moment-timezone":"^0.5.28","rc-color-picker":"^1.2.6","react":"^16.12.0","react-big-calendar":"^0.23.0","react-dom":"^16.12.0","react-easy-edit":"^1.8.1","react-floater":"^0.7.2","react-inline-confirm":"^3.0.0","react-joyride":"^2.2.1","react-modal":"^3.11.1","react-scripts":"3.3.0","react-times":"^3.1.12","styled-components":"^5.0.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"enzyme":"^3.11.0","enzyme-adapter-react-16":"^1.15.2"}}')},216:function(e,t){e.exports="data:image/png;base64,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"},221:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFUAAABCCAYAAAAmJpp5AAADWUlEQVR4nO3ZQW6jMBQGYB8EqT0K6qZHmDkAWXcz95idr9AzsGUzi65GVVRFaiqUkVI1YTFUEzW7fxY0wRib2IgXTPp+yYuCFcyH/UxSAY8sl0uf7l82wqczo7qFUQnCqARhVIIwKkEYlSCMShBGJQijEoRRCcKoBGFUgjAqQRiVIIxKELFcLsFt2OY9U9frddBts9lQTUDnXBzqer2msnIOoxKEUQnCqASZFqqMIUQMGTqqEAJqu723d7ahZkkEEUv7uePnR0iybpDO/lNB7ULUo6PKWHkgBtQKqEbQ//buf/Goyg3K2IQqEQuBWKrHMiSRQJRkBgyH/lNBvXty72xb/kZUC4D5ATj2P/TJEkRKyWo+iABQXesp4IeaJRFElCAzLfG+x2VcjVXpZyopY6fe/e9ve29U50XVN7t22Rg7jVeqp7sriKs72CpCGKh6ifhCqKQ1dUqo97ei83XACzVLELWWarWb6xuLc//JoQ5cU4/H9U1F+Vs/f6r/ZFDr3f8Kp16vfFGP5w7X0Gqmjniqvwvq6+vreeQ6Mq3v/g6tKAoqK+dcHOp+v6eycs5Fob6/v1M5eeUiUIuiwMfHB5WRd3r/i7pMC7x8/43H64yb1nqh/vmxGH3gITdv1DItRh906M0b9eUbL/nBUcce8BQaozLqNNrwqDcr7AGUM/3cHCW2yK8zPM62AHbY3NDcVJ62x76XD8q5z3EY2xyl0j8I1DwFynQLpHM7KnHLUzvKAdx2fiF3nedHQD3AmQDDQS3TLfC8wsI4/h3KdBcQ6qyeoe0bU1F14AdsntUrqf3qtEtKT9RZdT398xZyB6RzLGRAqNWAFeDGbLChfoIq5WIhV8g/j9c3V80ilzp8GtU0vgdsnqvPDwf1ZoV9Y/bpCBbU2RbGjaN1091YOlwz9TjqB6/NVuV6waAeCnwrxxnYgWqqb7Ot8eNcUU/OVGW568CBoJprVHMW9kA1biYDLX91NcnmtcJAbS19E7atprbfC6ua2vG+aL2eL2q9wvRjZ0U1/aCSpzC8l+pLrGv3b+7y9azRjquz23I9X1TTAzo7agg//eUp3bexIVqvH6nffuajDzzk1vvfKf9+/eXfVodG5djDqARhVIIwKkEYlSCMShBGJQijEuQ/2R8dRIwm4VcAAAAASUVORK5CYII="},223:function(e,t,a){e.exports=a(492)},228:function(e,t,a){},324:function(e,t,a){},38:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkAg0HFhzEfYeUAAADIklEQVRo3sWZz08TQRTHP10b0YB08WTrAaIehZDij5r4R5gY4hXwRA2RcCESTDgZFENo1DvxR2IRf9yBCxzsQQsBLxIUPAhcqNuCJ5T1sGwKMvtjtrvd9y7tTmc+332zfTvzJoKsJUjSRisJYqjEgCIaRX6yQJ4869IjurbLPGYN3cFXGeGS3+gYg3xzRB/0FQaJ+QOvo5+CFNz0EsOolcEjpD3CTS+QJuIV38R0RXDT57jgBX+bki94YzK6ZEM/5Bvc9AyKW3wNr3zH6+hMctIdfiYQvI7ONDXOwX8RGF5HJ+s0ESOB4nV0hu2f/KDxOjqdh0NetiYWOeXyQf3NGF/4u//tGBfppdZl321aWBPNvvuHb5fUkf4pdl33nxFlx7REEOeEdzYrMUL6/871bEl0nxAKyEqM8Mt8TZl/il5Ou5xBf0yl56CAGL1VxQP0GTEwBPTQUHUBKnfKAjqqjgfoImIIuML5UAScI2kIuBUKHoOsADdDE9AOCmdpDE1AE3GFZGh4gGTUVsAfPrIpuJ4T/jonXP/GSRG1FgAfLNPltuCV48VS7Fgy3imcseyYsbhTWcuRsWyLKzZ7lyVf8ACLli2qYpOE93wTYD2Sqvi1hfRoDQp6qAL2FIqhCtAUNMtG11spR7MeqWgnoNk3AS3WEYD3lklipwqJ6G2UeW5YdKxljhwbgpYco4KrfULBCa7apOKFKHkb7VGuS91pu3R0Piu2AoK3vMK6aJtUJVtlUwEmQxMwYfxDs6EJyBoCPrESCn6ZeTNHjYciYBxMAU8oVB1f4GlZQMlmzRKUjbJdFgBjVY6BxjPjgymgxH2J7nHh1YTECANHX4KVlmiuSZRopssLeO9FqgxLB4pUzdx1XaQq0cIPcVNXQIW5w95hp+5h4PgH9uGJ8DxQ/GvnhV6NT8cUIp9yLlYDHOdlIPg3nHD5mIZ9YGFYp49HNkVvZbBGpnzBz3o7tDKmoluqhHvUt+j2fmxnWB39HkVsMVTpwaVp9QywLAX/yj3Xad21tfGIVUf0dx7KFL7k5ydOkiStJFBRUQENDY31/eP7Dbnh/gG979F//hqDMwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wMi0xM1QwNzoyMjoyOCswMDowMIZmOQwAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDItMTNUMDc6MjI6MjgrMDA6MDD3O4GwAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},473:function(e,t,a){},486:function(e,t,a){},492:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(3),o=a.n(s),i=(a(228),a(91)),l=a(8),c=a(12),u=a(10),d=a(15),p=a(13),m=a(14),h=a(21),f=a.n(h),v=a(132),A=a.n(v),g=a(135),E=a(6),b=a.n(E),x=a(207),y=a.n(x),D=(a(322),a(323),new Map);function k(e){return e.value=parseFloat(e.value),e.condition=function(t){return D.get(e.text)(t,e.value)},e}D.set(">",(function(e,t){return e>t})),D.set("<",(function(e,t){return e<t})),D.set(">=",(function(e,t){return e>=t})),D.set("<=",(function(e,t){return e<=t})),D.set("=",(function(e,t){return parseFloat(e).toFixed(1)===parseFloat(t).toFixed(1)}));var C=["shifts","events","resources","metaData"];function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage.getItem("schedule_resources"),t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(t&&(e=JSON.parse(e)),!e)return[]}catch(a){return[]}return!e instanceof Array?[]:e}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage.getItem("schedule_events"),t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{t&&(e=JSON.parse(e)),e=e.map((function(e){return e.start=new Date(e.start),e.end=new Date(e.end),e}))}catch(a){return[]}return!e instanceof Array?[]:e}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage.getItem("schedule_shifts"),t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return[];try{t&&(e=JSON.parse(e))}catch(a){return[]}return!e instanceof Array?[]:e}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage.getItem("schedule_metaData"),t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{t&&(e=JSON.parse(e)),e.archive.resources||(e.archive.resources=[]),e.archive.shifts||(e.archive.shifts=[]),e.rules||(e.rules=[]),e.tutorial&&!0===e.tutorial.done||(e.tutorial={done:!1,stepIndex:0})}catch(a){return{archive:{resources:[],shifts:[]},rules:[],tutorial:{done:!1,stepIndex:0}}}return e.rules=e.rules.map((function(e){return e.value=parseFloat(e.value),e=k(e)})),e}function M(e,t){if(!C.includes(t))throw new TypeError("Invalid type: ",t);window.localStorage.setItem("schedule_".concat(t),JSON.stringify(e))}function I(){var e={metaData:B(),shifts:S(),events:O(),resources:w(),created:new Date};return new Blob([JSON.stringify(e)],{type:"json"})}var N=a(222);var j=a(208),R=Object(j.extendMoment)(b.a);function T(e){return 2===e.toString().length?e.toString():e<10?"0"+e:e.toString()}function L(e,t){return e.startHour===t.startHour?e.startMinute-t.startMinute:e.startHour-t.startHour}function F(e,t){return e.title.toLowerCase()>t.title.toLowerCase()}function Q(e){if("resources"===e)return F;if("shifts"===e)return L;throw new Error("Invalid sort type: ",e)}a(324);var U=a(57),H=a.n(U),V=a(71),P=a.n(V),q=a(56),G=a.n(q),Y=(a(175),a(214)),J=a.n(Y),K=(a(472),a(72)),W=a.n(K),z=a(38),Z=a.n(z),X=(a(473),function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"loadErrorPanel",value:function(){if(void 0!==this.props.loadingError)return r.a.createElement("div",{style:{background:"#ffa5a5",borderRadius:"2px",border:"1px solid #ff7a7a",padding:"2px"}},this.props.loadingError.message,this.props.loadingError.error)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"savePanel"},this.loadErrorPanel(),r.a.createElement("a",{href:URL.createObjectURL(I()),download:"schedule.json"},r.a.createElement("button",{className:"fileButton",style:{width:"100%"}},"Spara till fil")),r.a.createElement("input",{type:"file",id:"file",className:"inputfile",accept:".json",onChange:function(t){t.preventDefault(),t.target.files[0].text().then((function(t){try{t=function(e){try{(e=JSON.parse(e)).resources=w(e.resources,!1),e.shifts=S(e.shifts,!1),e.events=O(e.events,!1),e.metaData=B(e.metaData,!1)}catch(t){return}return M(e.resources,"resources"),M(e.shifts,"shifts"),M(e.events,"events"),M(e.metaData,"metaData"),e.created=new Date(e.created),e}(t)}catch(a){return void e.props.setLoadingError("Filen \xe4r trasig eller tom",a)}t?(e.props.insert(t),e.props.closeModal()):e.props.setLoadingError("Filen \xe4r trasig eller tom")}))},style:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute",zIndex:"-1"}}),r.a.createElement("label",{htmlFor:"file",className:"fileButton clickable"},"\xd6ppna fil"))}}]),t}(n.Component)),$=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderOptions=function(e){var t=[];return e.forEach((function(e,a){t.push(r.a.createElement("option",{key:a,value:e},e))})),t};var n=[],s=!0,o=!1,i=void 0;try{for(var l,u=D.keys()[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var m=l.value;n.push(m)}}catch(h){o=!0,i=h}finally{try{s||null==u.return||u.return()}finally{if(o)throw i}}return a.state={rulesList:n},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return this.props.rules?r.a.createElement("div",{className:"rulesPanel"},this.props.rules.map((function(t,a){var n=t.text,s=t.color,o=t.value;return r.a.createElement("div",{key:a},r.a.createElement("select",{value:n,onChange:function(t){var n=e.props.rules;n[a].text=t.target.value,n[a]=k(n[a]),e.props.setRules(n)}},e.renderOptions(e.state.rulesList)),r.a.createElement(H.a,{type:"number",value:parseFloat(o).toFixed(1),onSave:function(t){var n=e.props.rules;n[a].value=t,e.props.setRules(n)},onValidate:function(e){return!isNaN(parseFloat(e))&&parseFloat(e).toFixed(1)>=0},validationMessage:"M\xe5ste vara en siffra >= 0",saveButtonLabel:"Spara",cancelButtonLabel:"Avbryt",onHoverCssClass:"clickable"}),r.a.createElement(G.a,{animation:"slide-up",color:s,onClose:function(t){var n=e.props.rules;n[a].color=t.color,e.props.setRules(n)},enableAlpha:!1}),r.a.createElement(P.a,{className:"confirmButton",textValues:["","Ta bort?",""],onClick:function(){var t=e.props.rules;t.splice(a,1),e.props.setRules(t)},showTimer:!0,isExecuting:!1},r.a.createElement("img",{src:W.a,alt:"[Delete]",className:"clickable",style:{height:"17px"}})))}))):""}}]),t}(n.Component),_=a(215),ee=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).randomColor=function(){return"#"+((1<<24)*Math.random()|0).toString(16)},a.renderResources=function(){var e=a.props.resources.map((function(e,t){return r.a.createElement("div",{className:"option",key:t},r.a.createElement(H.a,{type:"text",value:e.title,onSave:function(t){e.title=t,a.props.updateElement(e,"resources")},onValidate:function(e){return e.length>0},validationMessage:"Namnet kan inte vara tomt",saveButtonLabel:"Spara",cancelButtonLabel:"Avbryt",onHoverCssClass:"clickable"}),r.a.createElement("div",{className:"optionSidePanel"},r.a.createElement("div",{style:{display:"inline-table"}},r.a.createElement(G.a,{animation:"slide-up",color:e.color,onClose:function(t){e.color=t.color,a.props.updateElement(e,"resources")},enableAlpha:!1})),r.a.createElement(P.a,{className:"confirmButton",textValues:["","Ta bort?",""],onClick:function(){return a.props.archive(e,"resources")},showTimer:!0,isExecuting:!1},r.a.createElement("img",{src:W.a,alt:"[Delete]",className:"clickable"}))))})),t=r.a.createElement("div",{style:{textAlign:"center",marginTop:"5px"},onClick:function(){a.props.create({title:"Person",color:a.randomColor()},"resources")},className:"clickable",key:e.length},r.a.createElement("img",{src:Z.a,alt:"L\xe4gg till",style:{height:"20px"}}));return e.push(t),e},a.renderShifts=function(){var e=a.props.shifts.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement(H.a,{type:"text",value:e.title,onSave:function(t){0!==t.length&&(e.title=t,a.props.updateElement(e,"shifts"))},onValidate:function(e){return e.length>0},validationMessage:"Namnet kan inte vara tomt",saveButtonLabel:"Spara",cancelButtonLabel:"Avbryt",onHoverCssClass:"clickable"})),r.a.createElement("td",null,r.a.createElement(J.a,{time:e.startHour+":"+e.startMinute,onFocusChange:function(e){a.setState({timePickerOpen:!1})},onTimeChange:function(t){var n=t.hour,r=t.minute,s=f()(e,{startHour:{$set:n},startMinute:{$set:r}});a.props.updateElement(s,"shifts")},withoutIcon:!0,focused:a.state.timePickerOpen===e.id,trigger:r.a.createElement("div",{onClick:function(t){a.setState({timePickerOpen:e.id})},className:"clickable"},"".concat(T(e.startHour),":")+"".concat(T(e.startMinute)))})),r.a.createElement("td",null,r.a.createElement(H.a,{type:"number",value:e.minuteLength.toString(),onSave:function(t){e.minuteLength=t,a.props.updateElement(e,"shifts")},onValidate:function(e){return e>0},validationMessage:"M\xe5ste vara en siffra > 0",saveButtonLabel:"Spara",cancelButtonLabel:"Avbryt",onHoverCssClass:"clickable"})),r.a.createElement("td",null,r.a.createElement("div",{className:"optionSidePanel"},r.a.createElement(P.a,{className:"confirmButton",textValues:["","Ta bort?",""],onClick:function(){return a.props.archive(e,"shifts")},showTimer:!0,isExecuting:!1},r.a.createElement("img",{src:W.a,alt:"[Delete]",className:"clickable"})))))}));return r.a.createElement(r.a.Fragment,null,e)},a.addShiftRow=function(){return r.a.createElement("div",{style:{textAlign:"center",marginTop:"5px"},onClick:function(){return a.props.create({title:"Pass",startHour:8,startMinute:0,minuteLength:480},"shifts")},className:"clickable"},r.a.createElement("img",{src:Z.a,alt:"L\xe4gg till",style:{height:"20px"}}))},a.addRuleRow=function(){return r.a.createElement("div",{style:{textAlign:"center",marginTop:"5px"},onClick:function(e){var t=a.props.rules;t.push({text:"=",value:"8.0",color:a.randomColor()}),t[t.length-1]=k(t[t.length-1]),a.props.setRules(t)},className:"clickable"},r.a.createElement("img",{src:Z.a,alt:"L\xe4gg till",style:{height:"20px"}}))},a.state={picked:{hour:0,minute:0},timePickerOpen:!1,shifts:a.props.shifts,time:{hour:21,minute:5}},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement("div",{id:"closeBubble",onClick:this.props.closeModal},r.a.createElement("div",{className:"bubbleCenter"},"X")),r.a.createElement("div",{className:"modalPanel"},r.a.createElement("div",{className:"boxLabel"},"Resurser"),r.a.createElement("div",{className:"pickerBox"},this.renderResources())),r.a.createElement("div",{className:"modalPanel"},r.a.createElement("div",{className:"boxLabel"},"Pass"),r.a.createElement("div",{className:"pickerBox"},r.a.createElement("table",{className:"panelTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"left"}},"Namn"),r.a.createElement("th",{style:{textAlign:"center"}},"Start"),r.a.createElement("th",null,"L\xe4ngd (min)"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.renderShifts())),this.addShiftRow())),r.a.createElement("div",{className:"modalPanel"},r.a.createElement("div",{className:"boxLabel"},"Lagring"),r.a.createElement("div",{className:"pickerBox"},r.a.createElement(X,{insert:function(t){return e.props.insert(t)},closeModal:this.props.closeModal,setLoadingError:function(t,a){e.setState({loadingError:{message:t,error:a}})},loadingError:this.state.loadingError}))),r.a.createElement("div",{className:"modalPanel"},r.a.createElement("div",{className:"boxLabel"},"Regler"),r.a.createElement("div",{className:"pickerBox"},r.a.createElement($,{rules:this.props.rules,setRules:function(t){e.props.advanceTutorial(),e.props.setRules(t)}}),this.addRuleRow())),r.a.createElement("div",{style:{position:"absolute",bottom:"3px",right:"3px",background:"none",padding:"0px 3px 0px 3px",color:"#c3bebe"}},_.version))}}]),t}(n.Component),te=a(216),ae=a.n(te);function ne(e){var t=new Date;t.setHours(e.shift.startHour,e.shift.startMinute,0),t=b()(t).add(e.shift.minuteLength,"m").toDate();var a=T(e.shift.startHour)+":"+T(e.shift.startMinute)+" - "+T(t.getHours())+":"+T(t.getMinutes());return r.a.createElement("div",{className:e.className},a)}var re=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).renderShifts=function(){return a.props.shifts&&0!==a.props.shifts.length?a.props.shifts.map((function(e,t){return r.a.createElement("div",{className:"".concat(a.matchId(e.id,"shift")?" selected":"")+" option clickable",onClick:function(){a.setState({selected:f()(a.props.selected,{shift:{$set:e}})}),a.props.setSelected({shift:e,resource:a.props.selected.resource})},key:t},r.a.createElement("div",{className:"shiftTitle"},e.title),r.a.createElement(ne,{className:"shiftInfo",shift:e}))})):r.a.createElement("div",{style:{fontStyle:"italic",color:"#878787",textAlign:"center",cursor:"default",whiteSpace:"nowrap"}},"Inga skift tillagda")},a.renderResources=function(){return a.props.resources&&0!==a.props.resources.length?a.props.resources.map((function(e,t){return r.a.createElement("div",{className:"".concat(a.matchId(e.id,"resource")?" selected":"")+" option clickable",onClick:function(){a.setState({selected:f()(a.props.selected,{resource:{$set:e}})}),a.props.setSelected({shift:a.props.selected.shift,resource:e})},key:t},r.a.createElement("div",null,e.title),r.a.createElement("div",{style:{width:"15px",background:e.color,border:"1px solid #606060",margin:"2px",boxShadow:"0 0 0 2px #fff inset",borderRadius:"2px"}}))})):r.a.createElement("div",{style:{fontStyle:"italic",color:"#878787",textAlign:"center",cursor:"default",whiteSpace:"nowrap"}},"Inga resurser tillagda")},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"matchId",value:function(e,t){if(this.props.selected&&this.props.selected[t]&&void 0!==this.props.selected[t].id)return e===this.props.selected[t].id}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"sideContainer"},r.a.createElement("div",{className:"boxLabel"},"Pass"),r.a.createElement("div",{className:"pickerBox"},this.renderShifts()),r.a.createElement("div",{className:"boxLabel"},"Resurser"),r.a.createElement("div",{className:"pickerBox",style:{width:"auto"}},this.renderResources()),r.a.createElement("img",{onClick:function(){return e.props.setOptionsModal(!0)},src:ae.a,alt:"[Options]",id:"cogButton",style:{position:"absolute",bottom:"10px",right:"10px",width:"30px",cursor:"pointer"}}))}}]),t}(n.Component),se=a(217),oe=a.n(se),ie=(a(485),a(486),function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).randomColor=function(){return"#"+((1<<24)*Math.random()|0).toString(16)},a.generalErrorPanel=function(e){return void 0===a.state[e]?"":r.a.createElement("div",{style:{textAlign:"center",margin:"0px 0px 6px",background:"#ffa5a5",padding:"4px 0 4px 0"}},a.state[e])},a.dateTimePicker=function(e){var t=e.trigger,n=e.target,s=a.state[n];return t?r.a.createElement(oe.a,{mindate:new Date,moment:b()(a.state[n]),onSave:function(){var e;a.setState((e={},Object(l.a)(e,"".concat(n,"Choosing"),!1),Object(l.a)(e,"dateError",void 0),e))},onChange:function(e){var t;"start"===n&&e.isAfter(a.state.end)?a.setState({dateError:"H\xe4ndelsen m\xe5ste b\xf6rja innan den slutar"}):"end"===n&&e.isBefore(a.state.start)?a.setState({dateError:"H\xe4ndelsen f\xe5r inte sluta innan den b\xf6rjar"}):a.setState((t={},Object(l.a)(t,n,e.toDate()),Object(l.a)(t,"dateError",void 0),t))},minStep:5,hourStep:1,prevMonthIcon:"ion-ios-arrow-left",nextMonthIcon:"ion-ios-arrow-right"}):r.a.createElement("div",{className:"clickable",style:{display:"inline-table",padding:"0px 4px 0px 4px"},onClick:function(){a.setState(Object(l.a)({},"".concat(n,"Choosing"),!0))}},s.getFullYear()+"-"+T(s.getMonth()+1)+"-"+T(s.getDate())+" "+T(s.getHours())+":"+T(s.getMinutes()))},a.optionsTable=function(){if(a.state.startChoosing||a.state.endChoosing){var e=a.state.startChoosing?"start":"end";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"100%",textAlign:"center"}},r.a.createElement("b",null,"start"===e?"B\xf6rjar":"Slutar")),a.generalErrorPanel("dateError"),a.dateTimePicker({trigger:!0,target:e}))}return r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"50px"}},"F\xe4rg"),r.a.createElement("td",null,r.a.createElement(G.a,{enableAlpha:!1,animation:"slide-up",color:a.state.eventColor,onClose:function(e){a.setState({eventColor:e.color})}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"B\xf6rjar"),r.a.createElement("td",null,a.dateTimePicker({trigger:a.state.startChoosing,target:"start"}))),r.a.createElement("tr",null,r.a.createElement("td",null,"Slutar"),r.a.createElement("td",null,a.dateTimePicker({trigger:a.state.endChoosing,target:"end"})))))},a.buttonsPanel=function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"-3px"}},r.a.createElement("input",{type:"submit",value:"Spara",style:{borderRadius:"0px 0px 0px 5px"}}),r.a.createElement("button",{onClick:a.props.closeModal,style:{borderRadius:"0px 0px 5px 0px"}},"Avbryt"))};var n,s,o=void 0===a.props.event.color?a.randomColor():a.props.event.color;return void 0===a.props.event.title&&void 0===a.props.event.customTitle?(n="Titel",s=""):s=n=void 0!==a.props.event.title?a.props.event.title:a.props.event.customTitle,a.state={eventColor:o,start:a.props.event.start,end:a.props.event.end,customTitle:s,previousTitle:n,startChoosing:!1,endChoosing:!1},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.titleInput.focus()}},{key:"render",value:function(){var e=this;return this.state.startChoosing||this.state.endChoosing?r.a.createElement(r.a.Fragment,null,this.generalErrorPanel("dateError"),this.dateTimePicker({trigger:!0,target:this.state.startChoosing?"start":"end"})):r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.state.customTitle&&0!==e.state.customTitle.length?void 0!==e.props.event.id?(e.props.editEvent({id:e.props.event.id,customTitle:e.state.customTitle,start:e.state.start,end:e.state.end,color:e.state.eventColor,resourceId:void 0,shiftId:void 0}),e.props.closeModal()):(e.props.addEvent({customTitle:e.state.customTitle,start:e.state.start,end:e.state.end,color:e.state.eventColor}),e.props.closeModal()):e.setState({titleError:"Titeln f\xe5r inte vara tom"})}},r.a.createElement("div",{style:{textAlign:"center",fontWeight:"bold",margin:"-8px 0px 6px 0px"}},void 0===this.props.event.id?"Ny h\xe4ndelse":"Redigera h\xe4ndelse"),r.a.createElement("input",{ref:function(t){return e.titleInput=t},type:"text",placeholder:this.state.previousTitle,value:this.state.customTitle,onChange:function(t){var a=void 0;0===t.target.value.length&&(a=e.state.titleError),e.setState({customTitle:t.target.value,titleError:a})},style:{padding:"4px"}}),this.generalErrorPanel("titleError"),this.optionsTable(),this.buttonsPanel())}}]),t}(n.Component)),le=a(218),ce=a(221),ue=a.n(ce),de=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).steps=[{target:"body",title:"Introduktion",content:"En kort genomg\xe5ng av alla funktionaliteter.",placement:"center"},{target:"#sideContainer",content:"F\xf6r tillf\xe4llet kommer inget att h\xe4nda om du klickar p\xe5 rutorna i kalendern eftersom inga pass eller resurser \xe4r tillagda.",placement:"left"},{target:"#cogButton",content:"Pass och resurser l\xe4ggs till i huvudmenyn. Klicka h\xe4r f\xf6r att \xf6ppna den.",placement:"top-start",hideFooter:!0,spotlightClicks:!0},{target:"div.modalPanel:nth-child(2)",content:r.a.createElement("div",null,"Klicka p\xe5",r.a.createElement("img",{src:Z.a,alt:"Plus sign",style:{width:"20px",display:"inline",margin:"0px 5px -4px 5px"}}),"f\xf6r att l\xe4gga till en resurs. Resursen kommer att skapas med f\xf6rifyllda v\xe4rden som kan \xe4ndras genom att klicka p\xe5 dem. \xc4ndra ett v\xe4rde f\xf6r att forts\xe4tta."),hideFooter:!0,spotlightClicks:!0,hideCloseButton:!0},{target:"div.modalPanel:nth-child(3)",content:r.a.createElement("div",null,"Klicka p\xe5",r.a.createElement("img",{src:Z.a,alt:"Plus sign",style:{width:"20px",display:"inline",margin:"0px 5px -4px 5px"}}),"f\xf6r att l\xe4gga till en resurs. \xc4ndra ett v\xe4rde f\xf6r att forts\xe4tta."),hideFooter:!0,spotlightClicks:!0,hideCloseButton:!0},{target:"div.modalPanel:nth-child(4)",content:"Spara respektive \xf6ppna till och fr\xe5n en fil p\xe5 h\xe5rddisken."},{target:"div.modalPanel:nth-child(5)",content:r.a.createElement("div",null,r.a.createElement("img",{src:ue.a,alt:"Rule demonstration",style:{float:"left",marginRight:"10px"}}),r.a.createElement("p",{style:{textAlign:"left"}},"Varje dag i kalendern har en siffran i \xf6vre v\xe4nstra h\xf6rnet som visar antalet schemalagda timmar den dagen. Om siffran uppfyller regeln s\xe5 kommer den att f\xe5 den angivna f\xe4rgen. L\xe4gg till en regel genom att klicka p\xe5",r.a.createElement("img",{src:Z.a,alt:"Plus sign",style:{width:"20px",display:"inline",margin:"0px 5px -4px 5px"}}),"och g\xf6r en f\xf6r\xe4ndring f\xf6r att forts\xe4tta.")),hideFooter:!0,spotlightClicks:!0,hideCloseButton:!0},{target:"#closeBubble",content:"St\xe4ng menyn genom att klicka h\xe4r.",placement:"top-start",hideCloseButton:!0,hideFooter:!0,spotlightClicks:!0},{target:"#sideContainer",content:"Passet och resursen som lades till tidigare finns nu i listan. Den gr\xe5 bakgrunden betyder att passet eller resursen \xe4r markerat och kommer att anv\xe4ndas d\xe5 en h\xe4ndelse l\xe4ggs till.",placement:"left",hideBackButton:!0},{target:"div.rbc-month-row:nth-child(4) > div:nth-child(1) > div:nth-child(4)",content:r.a.createElement("p",{style:{textAlign:"left"}},"Klicka p\xe5 en kalenderruta f\xf6r att l\xe4gga till en h\xe4ndelse. Du kan ocks\xe5 klicka och dra f\xf6r att l\xe4gga till flera samtidigt. Klicka och dra f\xf6r att flytta en h\xe4ndelse",r.a.createElement("br",null),r.a.createElement("b",null,"H\xf6gerklick")," - tar bort h\xe4ndelsen",r.a.createElement("br",null),r.a.createElement("b",null,"Dubbelklick")," - redigerar h\xe4ndelsen"),placement:"left",spotlightClicks:!0,disableOverlay:!0},{target:"span.rbc-btn-group:nth-child(3) > button:nth-child(1)",content:"Schemal\xe4ggaren \xe4r nu i m\xe5nadsvyn. I den h\xe4r vyn kan bara normala h\xe4ndelser l\xe4ggas till och de kommer att d\xf6pas efter resursens och passets namn. Hur l\xe4nge h\xe4ndelsen varar och n\xe4r den b\xf6rjar best\xe4ms av det markerade passet. Om passet eller resursen \xe4ndras - f\xe4rg eller namn t.ex. - s\xe5 kommer alla schemalagda h\xe4ndelser ocks\xe5 att f\xf6r\xe4ndras.",placement:"bottom"},{target:"span.rbc-btn-group:nth-child(3) > button:nth-child(2)",content:"Klicka h\xe4r f\xf6r att \xe4ndra till veckovyn.",placement:"bottom",hideCloseButton:!0,hideFooter:!0,spotlightClicks:!0},{target:"body",placement:"center",content:"Notera hur sidopanelen inte syns l\xe4ngre. I veckovyn s\xe5 anv\xe4nds inte pass eller resurser utan frist\xe5ende h\xe4ndelser skapas i st\xe4llet. De \xe4r inte kopplade till n\xe5got och kommer inte att \xe4ndras om n\xe5got av passen eller resurserna f\xf6r\xe4ndras.",disableOverlay:!0,disableBackButton:!0},{target:"div.rbc-day-slot:nth-child(4) > div:nth-child(13)",content:"Klicka och dra f\xf6r att l\xe4gga till en h\xe4ndelse.",hideCloseButton:!0,hideFooter:!0,spotlightClicks:!0},{target:".ReactModal__Content",content:"Den h\xe4r menyn fungerar precis som den tidigare meny s\xe5 klicka p\xe5 det du vill \xe4ndra. Schemal\xe4ggaren kommer att s\xe4ga till om du f\xf6rs\xf6ker g\xf6ra n\xe5got galet s\xe5 inget kan g\xe5 fel.",placement:"left",offset:100,hideCloseButton:!0,hideFooter:!0,spotlightClicks:!0,disableOverlay:!0},{target:"body",content:"Du \xe4r nu klar med genomg\xe5ngen. Lycka till! \ud83c\udf82",placement:"center",hideBackButton:!0}],a.handleCallback=function(e){"tour:end"!==e.type?("step:after"===e.type&&a.props.setStep(e.index+1),"skip"===e.action&&a.props.done(),"prev"===e.action&&"step:after"===e.type&&(console.log("prev arg: ",e),a.props.setStep(e.index-1))):a.props.done()},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(le.a,{disableOverlayClose:!0,showSkipButton:!0,steps:this.steps,stepIndex:this.props.stepIndex,locale:{next:"N\xe4sta",skip:"Hoppa \xf6ver",last:"Klar",back:"Tillbaka"},callback:this.handleCallback,disableBeacon:!0,continuous:!0,run:this.props.run})}}]),t}(n.Component);a(490);b.a.locale("sv");var pe=Object(g.b)(b.a),me=y()(g.a),he=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).advanceTutorial=function(){a.setState((function(e,t){return e.metaData.tutorial.stepIndex++,{metaData:e.metaData}}))},a.setSelected=function(e){var t=e.shift,n=e.resource;a.setState({selected:{shift:t,resource:n}})},a.updateElement=function(e,t){var n,r=a.state[t].findIndex((function(t){return t.id===e.id}));"resources"===t&&-1===r&&(r=a.state.metaData.archive.findIndex((function(t){return t.id===e.id})));var s=f()(a.state[t],{$splice:[[r,!0,e]]}),o=a.state.events;"shifts"===t&&M(o=a.state.events.map((function(t){return t.shiftId===e.id&&(t.start.setHours(e.startHour,e.startMinute,0),t.end=b()(t.start).add(e.minuteLength,"m").toDate()),t})),"events"),a.setState((n={},Object(l.a)(n,t,s.sort(Q(t))),Object(l.a)(n,"events",o),n)),M(s,t)};var n=O(),r=w(),s=S(),o=B();return a.state={events:n,resources:r.sort(Q("resources")),shifts:s.sort(Q("shifts")),selected:{shift:s[0],resource:r[0]},optionsModalOpen:!1,editEventModalOpen:!1,metaData:o,view:"month",viewDate:new Date},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t="";return"month"===this.state.view&&(t=r.a.createElement(re,{resources:this.state.resources,shifts:this.state.shifts,selected:this.state.selected,setSelected:this.setSelected,optionsModalOpen:this.state.optionsModalOpen,setOptionsModal:function(t){return e.setState({optionsModalOpen:t})}})),r.a.createElement("div",{id:"container"},r.a.createElement(de,{parentState:this.state,stepIndex:this.state.metaData.tutorial.stepIndex,setStep:function(t){e.setState({metaData:f()(e.state.metaData,{tutorial:{stepIndex:{$set:t}}})})},run:!this.state.metaData.tutorial.done,done:function(){e.setState((function(e,t){return e.metaData.tutorial={done:!0,stepIndex:0},M(e.metaData,"metaData"),{metaData:e.metaData}}))}}),r.a.createElement(A.a,{isOpen:this.state.optionsModalOpen,shouldCloseOnOverlayClick:!1,className:"modalCommon optionsMenuModal",overlayClassName:"modalOverlayCommon",onAfterOpen:function(){document.getElementById("root").style.filter="blur(2px)",e.state.metaData.tutorial.done||e.setState((function(e,t){return e.metaData.tutorial.done||e.metaData.tutorial.stepIndex++,{metaData:e.metaData}}))},onRequestClose:function(){document.getElementById("root").style.filter="",e.setState((function(e,t){return e.optionsModalOpen=!1,e}))},ariaHideApp:!1},r.a.createElement(ee,{resources:this.state.resources,shifts:this.state.shifts,updateElement:function(t,a){e.advanceTutorial(),e.updateElement(t,a)},closeModal:function(){document.getElementById("root").style.filter="",e.setState((function(e,t){return e.metaData.tutorial.done||e.metaData.tutorial.stepIndex++,{optionsModalOpen:!1,metaData:e.metaData}}))},archive:function(t,a){var n,r=function(e,t,a){var n;if("resources"!==t&&"shifts"!==t)throw new TypeError("Invalid type: ",t);var r=a[t].findIndex((function(t){return t.id===e.id}));return a.metaData.archive[t]=a.metaData.archive[t].concat(e),a[t].splice(r,1),n={},Object(l.a)(n,t,a[t]),Object(l.a)(n,"metaData",a.metaData),n}(t,a,e.state),s=e.state[a].find((function(e){return e.id!==t.id}));e.setState((n={selected:f()(e.state.selected,Object(l.a)({},a.slice(0,-1),{$set:s}))},Object(l.a)(n,a,r[a]),Object(l.a)(n,"metaData",r.metaData),n)),M(r[a],a),M(r.metaData,"metaData")},create:function(t,a){var n=function(e,t,a){if("resources"!==t&&"shifts"!==t)throw new TypeError("Invalid type: ",t);var n=0;return a[t].forEach((function(e){e.id>=n&&(n=e.id)})),a.metaData.archive[t].forEach((function(e){e.id>=n&&(n=e.id)})),n++,e.id=n,{newElementList:a[t].concat(e).sort(Q(t)),newElement:e}}(t,a,e.state);e.state.selected[a.slice(0,-1)]||e.setState({selected:f()(e.state.selected,Object(l.a)({},a.slice(0,-1),{$set:n.newElement}))}),e.setState(Object(l.a)({},a,n.newElementList)),M(n.newElementList,a)},insert:function(t){t.shifts.sort(Q("shifts")),t.resources.sort(Q("resources")),e.setState({events:t.events,shifts:t.shifts,resources:t.resources,metaData:t.metaData,selected:{resource:t.resources[0],shift:t.shifts[0]}})},setRules:function(t){var a=f()(e.state.metaData,{rules:{$set:t}});M(a,"metaData"),e.setState({metaData:a})},rules:this.state.metaData.rules,advanceTutorial:this.advanceTutorial})),r.a.createElement(A.a,{isOpen:this.state.editEventModalOpen,shouldCloseOnOverlayClick:!1,className:"modalCommon editEventModal",overlayClassName:"modalOverlayCommon",onAfterOpen:function(){return document.getElementById("root").style.filter="blur(2px)"},onRequestClose:function(){document.getElementById("root").style.filter="",e.setState((function(e,t){return e.metaData.tutorial.done||(e.metaData.tutorial.stepIndex++,e.view="month"),{editEventModalOpen:!1,metaData:e.metaData}}))},ariaHideApp:!1},r.a.createElement(ie,{addEvent:function(t){var a=function(e,t){var a=0;return t.forEach((function(e){e.id>a&&(a=e.id)})),e.id=a+1,t.concat(e)}(t,e.state.events);e.setState({events:a}),M(a,"events")},event:this.state.eventBasis,editEvent:function(t){var a=e.state.events.findIndex((function(e){return e.id===t.id})),n=f()(e.state.events,{$splice:[[a,!0,t]]});e.setState({events:n}),M(n,"events")},closeModal:function(){document.getElementById("root").style.filter="",e.setState((function(e,t){return e.editEventModalOpen=!1,e.metaData.tutorial.done||(e.metaData.tutorial.stepIndex++,e.view="month"),{editEventModalOpen:e.editEventModalOpen,metaData:e.metaData,view:e.view}}))}})),r.a.createElement("div",{id:"calendar"},r.a.createElement(me,{resizableAccessor:function(){return!1},startAccessor:"start",endAccessor:"end",onDrillDown:function(t){e.setState({viewDate:t,view:"week"})},localizer:pe,events:this.state.events,onEventDrop:function(t){var a=function(e,t){var a=e.event,n=e.start,r=e.end,s=(e.isAllDay,t.findIndex((function(e){return e.id===a.id}))),o=Object(i.a)({},a,{start:n,end:r,isAllDay:!1}),l=Object(N.a)(t);return l.splice(s,1,o),l}(t,e.state.events);e.setState({events:a}),M(a,"events")},onDragStart:console.log,onSelectSlot:function(t){if("month"!==e.state.view||void 0!==e.state.selected.resource&&void 0!==e.state.selected.shift){if("month"===e.state.view){var a=function(e,t,a){if(a.resource&&a.shift){var n=0;t.forEach((function(e){e.id>n&&(n=e.id)})),n+=1;var r=[];return e.slots.forEach((function(e){var t=a.shift,s=e;s.setHours(t.startHour,t.startMinute,0);var o={start:s,end:b()(s).add(t.minuteLength,"m").toDate(),allDay:!1,id:n,resourceId:a.resource.id,shiftId:a.shift.id};r.push(o),n++})),t.concat(r)}}(t,e.state.events,e.state.selected);e.setState({events:a}),M(a,"events")}"week"===e.state.view&&(console.log("weekstuff"),e.setState((function(e,a){return e.metaData.tutorial.done||e.metaData.tutorial.stepIndex++,{metaData:e.metaData,editEventModalOpen:!0,eventBasis:{start:t.start,end:t.end}}})))}},onDoubleClickEvent:function(t,a){var n,r;if(void 0!==t.customTitle)n=t.color,r=t.title;else{var s=e.state.resources.find((function(e){return e.id===t.resourceId}))||e.state.metaData.archive.resources.find((function(e){return e.id===t.resourceId})),o=e.state.shifts.find((function(e){return e.id===t.shiftId}))||e.state.metaData.archive.shifts.find((function(e){return e.id===t.shiftId}));n=s.color,r=s.title+", "+o.title+"*"}e.setState({eventBasis:Object(i.a)({},t,{color:n,title:r}),editEventModalOpen:!0})},defaultView:"month",view:this.state.view,defaultDate:this.state.viewDate,date:this.state.viewDate,eventPropGetter:function(t,a,n,r){return function(e,t,a,n,r){if(void 0!==e.customTitle)return{style:{background:e.color,cursor:"grab"},className:"eventPanel"};var s=r.resources.find((function(t){return t.id===e.resourceId}));return void 0===s&&(s=r.metaData.archive.resources.find((function(t){return t.id===e.resourceId}))),s?{style:{background:s.color,cursor:"grab"},className:"eventPanel"}:(console.log("no resource found: ",e),console.log(r.resources),"")}(t,0,0,0,e.state)},selectable:"ignoreEvents",views:["month","week"],onView:function(t){e.setState((function(a,n){return a.view=t,e.state.metaData.tutorial.done||a.metaData.tutorial.stepIndex++,"month"===t&&!e.state.metaData.tutorial.done&&e.state.metaData.tutorial.stepIndex>1&&(a.metaData.tutorial={stepIndex:0,done:!0},M(a.metaData,"metaData")),{view:t,metaData:a.metaData}}))},onNavigate:function(t){e.setState({viewDate:t})},step:60,popup:!0,components:{eventWrapper:function(t){var a=t.event,n=t.children;return r.a.createElement("div",{onContextMenu:function(t){var n,r=(n=a,e.state.events.filter((function(e){return e.id!==n.id})));e.setState({events:r}),M(r,"events"),t.preventDefault()}},n)},event:function(t){return function(e,t){var a=e.event;if(void 0!==a.customTitle)return r.a.createElement("div",null,a.customTitle);var n=t.resources.find((function(e){return e.id===a.resourceId}));void 0===n&&(n=t.metaData.archive.resources.find((function(e){return e.id===a.resourceId})));var s=t.shifts.find((function(e){return e.id===a.shiftId}));return void 0===s&&(s=t.metaData.archive.shifts.find((function(e){return e.id===a.shiftId}))),r.a.createElement("div",null,n.title+", "+s.title)}(t,e.state)},dateCellWrapper:function(t){var a={start:t.value,end:b()(t.value).endOf("day")},n=0;e.state.events.forEach((function(e){n+=function(e,t){var a=R.range(e.start,e.end),n=R.range(t.start,t.end);return a.overlaps(n)?a.intersect(n).valueOf():0}(a,{start:b()(e.start),end:b()(e.end)})})),n/=36e5;var s,o="";return e.state.metaData.rules.forEach((function(e){e.condition(n)&&(s=e.color)})),0!==Math.round(n)&&(o=r.a.createElement("div",{className:"dateCellTag",style:{background:s}},n.toFixed(1)+"h")),r.a.createElement("div",{style:{display:"flex",position:"relative",flex:1,borderLeft:"1px solid #DDD"},onContextMenu:function(e){e.preventDefault()}},o,t.children)}}})),t)}}]),t}(n.Component),fe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ve(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(he,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Scheduler",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/Scheduler","/service-worker.js");fe?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ve(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ve(t,e)}))}}()},72:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAQAAABpN6lAAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkAgUGDw8ftS2KAAACkklEQVR42u2dPWsUURhGH7+IK4LxIyiiWKXTSiGFWNnYWlikF2v/iB9FfkVQhPQ2BvEHqGlSLojLbkKaYGPYVBbqO8zdyztzlHnOdMOdu+eeZXdndpNdKZuRNjTTvINtpg2N0n3Ted3J4n9tr+jltTPuNMA4W/dkeoBLneZNnz0/wH+GA9ACNA5AC9AMPsDpXm7lmz5WHHVf1/uNkcNhcPqyVTXTVjDTYbbu4B8CDkAL0Aw+QNmrwCk90KpOVM/4SPsVbufD2Z8VHTvXrrZ1lBNppO1OL3G72j7obMl9285zPc0p2TO3dKBPbYNKngPu0iup5l77kJIAZ+h1VFNgPvhXAQegBWgcgBagKQmQdD4FUGBeEuArvY5qPudMs6wd/LS2ZtvRhfbFlV3gnNNj3QDvyRrGeqcftIQx/zxlzwG/s6vLtHYDe1pd9JCazwWWdZFeaQMVZyw+E6QFaByAFqBxAFqAxgFoARoHoAVoHIAWoBl8gMy/Evui78Heh8El9yR8u/KOrv61b673wchrut1XoIhpw5uQ6+Hoo2DkZjhyMxgZX+CuNxhMF1/M4B8CDkAL0DgALUDjALQAjQPQAjQOQAvQOAAtQOMAtACNA9ACNA5AC9A4AC1A4wC0AI0D0AI0DkAL0DgALUDjALQAjQPQAjQOQAvQOAAtQOMAtACNA9ACNA5AC9A4AC1A4wC0AI0D0AI0DkAL0DgALUDjALQAjQPQAjQOQAvQDD5A5n+Pr+lnsDf6urabehLujY6ORq7lSdd8m9xUV/IEUplpZdFDBv8QcABagMYBaAEaB6AFaByAFqBxAFqAxgFoAZqaADU/nNYPe/0EeEuvs5E3/dzMkl5qgv+Axp/bRC+0tPhijgFmD/LwO3VKLgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wMi0wNVQwNjoxNToxNSswMDowMBuhWXUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDItMDVUMDY6MTU6MTUrMDA6MDBq/OHJAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="}},[[223,1,2]]]);
//# sourceMappingURL=main.3cd8e4c1.chunk.js.map